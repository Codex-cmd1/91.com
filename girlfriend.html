<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>给特别的人 - 隐藏彩蛋</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="egg-page girlfriend-egg">
    <!-- 背景音乐 -->
    <audio id="bgMusic" loop>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
        <!-- 实际使用时请替换为浪漫的背景音乐文件 -->
    </audio>

    <div class="egg-header">
        <h1><i class="fas fa-heart"></i> 给我最亲爱的你</h1>
        <p>你是我生命中最美的惊喜</p>
    </div>

    <div class="egg-content">
        <div class="message-box">
            <h2>爱的告白</h2>
            <p>亲爱的：</p>
            <p>从遇见你的那一刻起，我的世界变得更加丰富多彩。你的笑容是我每天最期待看到的风景，你的声音是我听过最动听的旋律。</p>
            <p>感谢你出现在我的生命中，带给我无尽的快乐和温暖。与你在一起的每一刻都让我感到幸福和感恩。</p>
            <p>无论未来路途如何，我都愿意牵着你的手，一起走过每一个春夏秋冬。你是我生命中最珍贵的礼物。</p>
            <p class="signature">永远爱你的<br>我</p>
        </div>

        <div class="photo-grid">
            <!-- 预留照片位置 -->
            <!-- 照片将通过上传功能添加 -->
        </div>

        <!-- 上传照片区域 -->
        <div class="message-box">
            <h3><i class="fas fa-camera"></i> 上传我们的照片</h3>
            <input type="file" id="photoUpload" accept="image/*" multiple>
            <p>选择照片文件上传到我们的记忆库</p>
        </div>

        <!-- 上传视频区域 -->
        <div class="message-box">
            <h3><i class="fas fa-video"></i> 上传我们的视频</h3>
            <input type="file" id="videoUpload" accept="video/*">
            <div id="videoContainer"></div>
        </div>

        <div class="music-player">
            <p>背景音乐: 《浪漫时光》</p>
            <button onclick="toggleMusic()" id="musicToggle">播放/暂停音乐</button>
        </div>

        <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> 返回主页</a>
    </div>

    <script>
        // 音乐控制
        function toggleMusic() {
            const audio = document.getElementById('bgMusic');
            const button = document.getElementById('musicToggle');
            
            if (audio.paused) {
                audio.play();
                button.textContent = '暂停音乐';
            } else {
                audio.pause();
                button.textContent = '播放音乐';
            }
        }
        
        // 图片上传预览功能
        function setupImageUpload() {
            const uploadInput = document.getElementById('photoUpload');
            const videoUpload = document.getElementById('videoUpload');
            const photoGrid = document.querySelector('.photo-grid');
            const videoContainer = document.getElementById('videoContainer');
            
            if (uploadInput && photoGrid) {
                uploadInput.addEventListener('change', function(e) {
                    const files = e.target.files;
                    for (let i = 0; i < files.length; i++) {
                        const file = files[i];
                        if (file.type.startsWith('image/')) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                const gridItem = document.createElement('div');
                                gridItem.className = 'photo-grid-item';
                                
                                const img = document.createElement('img');
                                img.src = e.target.result;
                                img.alt = '我们的照片';
                                
                                gridItem.appendChild(img);
                                photoGrid.appendChild(gridItem);
                            };
                            reader.readAsDataURL(file);
                        }
                    }
                });
            }
            
            if (videoUpload && videoContainer) {
                videoUpload.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file && file.type.startsWith('video/')) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const video = document.createElement('video');
                            video.src = e.target.result;
                            video.controls = true;
                            video.style.width = '100%';
                            video.style.maxWidth = '500px';
                            video.style.borderRadius = '10px';
                            
                            videoContainer.innerHTML = '';
                            videoContainer.appendChild(video);
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            setupImageUpload();
            
            // 添加浮动爱心
            createFloatingHearts();
        });
        
        // 创建浮动爱心
        function createFloatingHearts() {
            const colors = ['#e91e63', '#f44336', '#9c27b0', '#2196f3', '#4caf50'];
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = '❤';
                    heart.style.position = 'fixed';
                    heart.style.fontSize = Math.random() * 20 + 15 + 'px';
                    heart.style.color = colors[Math.floor(Math.random() * colors.length)];
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = '100vh';
                    heart.style.opacity = Math.random() * 0.5 + 0.5;
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = 1;
                    heart.style.animation = `floatUp ${Math.random() * 5 + 5}s linear forwards`;
                    
                    document.body.appendChild(heart);
                    
                    // 动画结束后移除元素
                    setTimeout(() => {
                        if (heart.parentNode) {
                            heart.parentNode.removeChild(heart);
                        }
                    }, 8000);
                }, i * 500);
            }
            
            // 添加CSS动画
            if (!document.querySelector('#heartAnimations')) {
                const style = document.createElement('style');
                style.id = 'heartAnimations';
                style.textContent = `
                    @keyframes floatUp {
                        0% {
                            transform: translateY(0) rotate(0deg);
                            opacity: 1;
                        }
                        100% {
                            transform: translateY(-100vh) rotate(360deg);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }
        
        // 定期创建爱心
        setInterval(createFloatingHearts, 3000);
    </script>
</body>
</html>
